<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<title>jin_0</title>
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
	<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
	<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>	
	<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
	<script src="./jquery.ui.touch.js"  ></script>
	<style>
	/* 

	Hardboiled CSS3 Media Queries by Andy Clarke:
	http://stuffandnonsense.co.uk/blog/about/hardboiled_css3_media_queries/	
	Author: Andy Clarke
	Web site: http://stuffandnonsense.co.uk
	Twitter: http://twitter.com/malarkey	
	Hardboiled Web Design
	Web site: http://hardboiledwebdesign.com
	Twitter: http://twitter.com/itshardboiled	
	Version date : 30th September 2010
	Version: 0.9	
	License: Creative Commons CC Zero Declaration. No Rights Reserved.	
	*/
		
	/* Smartphones (portrait and landscape) ----------- */
	@media only screen and (min-device-width : 320px) and (max-device-width : 480px) {	/* Styles */	}	
	/* Smartphones (landscape) ----------- */
	@media only screen and (min-width : 321px) {	/* Styles */	}	
	/* Smartphones (portrait) ----------- */
	@media only screen and (max-width : 320px) {	/* Styles */	}	
	/* iPads (portrait and landscape) ----------- */
	@media only screen and (min-device-width : 768px) and (max-device-width : 1024px) {		/* Styles */	}
		/* iPads (landscape) ----------- */
	@media only screen and (min-device-width : 768px) and (max-device-width : 1024px) and (orientation : landscape) {	/* Styles */	}	
	/* iPads (portrait) ----------- */
	@media only screen and (min-device-width : 768px) and (max-device-width : 1024px) and (orientation : portrait) {	/* Styles */	}	
	/* Desktops and laptops ----------- */
	@media only screen and (min-width : 1224px) {	/* Styles */	}	
	/* Large screens ----------- */
	@media only screen and (min-width : 1824px) {	/* Styles */	}
	
	/* iPhone 4 and high pixel ratio devices ----------- */
	@media only screen and (-webkit-min-device-pixel-ratio : 1.5),   only screen and (min-device-pixel-ratio : 1.5) {  /* Styles */ }
	.total {margin-bottom: 10px;}
	img { max-width: 100%; height: auto; width: auto\9; /* ie8 */ }
	<?php $draggable = array("draggable1_left"=>844,"draggable1_top"=>121,"draggable2_left"=>852,"draggable2_top"=>331,"draggable3_left"=>593,"draggable3_top"=>100,"draggable4_left"=>1108,"draggable4_top"=>-107, "draggable5_left"=>444,"draggable5_top"=>-223,"draggable6_left"=>1100,"draggable6_top"=>11,"draggable7_left"=>327,"draggable7_top"=>-271,"draggable8_left"=>700,"draggable8_top"=>-189);
		  $droppable = array("droppable1_left"=>0,"droppable1_top"=>0,"droppable2_left"=>155,"droppable2_top"=>0,"droppable3_left"=>310,"droppable3_top"=>0,"droppable4_left"=>465,"droppable4_top"=>-0, "droppable5_left"=>619,"droppable5_top"=>0,"droppable6_left"=>774,"droppable6_top"=>0,"droppable7_left"=>929,"droppable7_top"=>0,"droppable8_left"=>1084,"droppable8_top"=>0); ?>	
	#droppable_all,#draggable_all{margin-bottom: 50px;clear :both}
	#draggable1,#draggable2,#draggable3,#draggable4,#draggable5,#draggable6,#draggable7,#draggable8,#droppable1,#droppable2,#droppable3,#droppable4,#droppable5,#droppable6,#droppable7,#droppable8{width: 135px; height:110px; padding: 0.5em; position: relative;display: inline}
	#draggable1,#draggable2,#draggable3,#draggable4,#draggable5,#draggable6,#draggable7,#draggable8{z-index:999999;} 	
	</style>
	<script>
	var $total=0;
	$(function() { <?php for($i=1;$i<9;$i++) { ?>		
		$("#draggable<?=$i?>" ).draggable();
		$( "#<? echo'droppable'.$i; ?>" ).droppable({
	      accept: "#<? echo'draggable'.$i; ?>",
	      hoverClass: "ui-state-active",
	      drop: function( event, ui ) { $( this ).addClass( "ui-state-highlight" ).find( "img" ).attr('src','<? if($i===8){echo 1;}else{echo $i+1;} ?>.jpg');  $total +=  12.5;  $(".total").empty(); $(".total").append($total);} 
	    }); <? } ?>	    
	  });
/*	  
	 function shuffle(arr){
	 if(arr instanceof Array)
	 {
	  var len = arr.length;
	  if(len == 1) return arr;
	  var i = len * 2;
	  while(i > 0)
	  {
	   var idx1 = Math.floor(Math.random()* len);
	   var idx2 = Math.floor(Math.random()* len);
	   if(idx1 == idx2) continue;
	   var temp = arr[idx1];
	   arr[idx1] = arr[idx2];
	   arr[idx2] = temp;
	   i--;
  	   }
	  }
	  else
	  {
	   alert("No Array Object");
	  }
	  return arr;
	 }	    
*/
	</script>
</head>
<body> 	
	<div class=""> <span>Total : </ span><span class="total">0</span></div>
	<div id="droppable_all"><?php for($i=1;$i<9;$i++) { ?><div id="droppable<?=$i?>" class="ui-widget-header"><img src="<?=$i?>.jpg" /></div> <? } ?> </div>
	<script>
<?php
	  /*
	  $draggable_all=array(1,2,3,4,5,6,7, 8);
	  $rand_keys = array_rand($draggable_all, 3);
	  echo $draggable_all[$rand_keys[0]] . "\n";
	  echo $draggable_all[$rand_keys[1]] . "\n";
	  echo $draggable_all[$rand_keys[2]] . "\n";
	  echo $draggable_all[$rand_keys[3]] . "\n";
	  echo $draggable_all[$rand_keys[4]] . "\n";
	  echo $draggable_all[$rand_keys[5]] . "\n";
	  echo $draggable_all[$rand_keys[6]] . "\n";
	  echo $draggable_all[$rand_keys[7]] . "\n";
	  */
	  $draggable_all = array(1, 2, 3, 4, 5, 6, 7, 8);
	  shuffle($draggable_all);
	  /*
      for($k=0;$k<8;$k++){
      	echo $draggable_all[$k] . "\n";
      }
	  
		var a = [1,2,3,4,5];
		a = shuffle(a);
		for(i=0;i<a.length;i++){
			alert(a[i]);
		}
 		*/
	  /*
	   * 
	function comb($arr, &$rarr, $vtemp = array()){    
        foreach($arr as $key => $value){
            $vtemp2 = $vtemp;
            $vtemp2[] = $value;

            $atemp = $arr;            
            unset($atemp[$key]);
            
            if(count($atemp) > 0){
                comb($atemp, $rarr, $vtemp2);
            } else {
                $t = array();
            
                foreach($vtemp2 as $val){
                    $t[] = $val;
                }
                
                $rarr[] = $t; 
            }
        }
    }
	   *//*
	$numbers = range(1, 20);
	shuffle($numbers);
	foreach ($numbers as $number) {
	    echo "$number ";
	}*/
	?>
	</script>
	<div id="draggable_all"><?php for($i=1;$i<9;$i++) { ?><div id="draggable<?=$draggable_all[$i-1]?>" class="ui-widget-content"><img src="<?=$draggable_all[$i-1]?>.jpg" /></div> <? } ?> </div>
</body>
</html>      